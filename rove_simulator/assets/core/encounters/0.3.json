{
    "quest_id": "0",
    "number": "3",
    "title": "Prologue 3",
    "victory": "Slay the Galeaper Queen.",
    "starting_map": {
        "id": "0.3",
        "row_count": 11,
        "column_count": 13,
        "background_rect": "(71, 26, 1522, 1449)",
        "terrain": {
            "(0, 0)": "barrier",
            "(0, 1)": "barrier",
            "(0, 8)": "open_air",
            "(0, 9)": "open_air",
            "(1, 0)": "barrier",
            "(1, 1)": "barrier",
            "(1, 4)": "barrier",
            "(1, 5)": "object",
            "(1, 9)": "open_air",
            "(1, 10)": "open_air",
            "(2, 0)": "barrier",
            "(2, 3)": "barrier",
            "(2, 4)": "barrier",
            "(2, 5)": "object",
            "(2, 9)": "open_air",
            "(3, 0)": "barrier",
            "(3, 7)": "difficult",
            "(3, 10)": "open_air",
            "(4, 2)": "dangerous",
            "(4, 9)": "start",
            "(5, 2)": "dangerous",
            "(5, 10)": "start",
            "(6, 9)": "start",
            "(7, 1)": "difficult",
            "(7, 7)": "dangerous",
            "(7, 10)": "start",
            "(8, 9)": "start",
            "(9, 0)": "barrier",
            "(9, 5)": "object",
            "(9, 6)": "barrier",
            "(9, 10)": "open_air",
            "(10, 0)": "barrier",
            "(10, 3)": "object",
            "(10, 5)": "barrier",
            "(10, 6)": "barrier",
            "(10, 9)": "open_air",
            "(11, 0)": "barrier",
            "(11, 1)": "barrier",
            "(11, 9)": "open_air",
            "(11, 10)": "open_air",
            "(12, 0)": "barrier",
            "(12, 1)": "barrier",
            "(12, 8)": "open_air",
            "(12, 9)": "open_air"
        }
    },
    "round_limit": 8,
    "rewards": {
        "lyst": 10,
        "items": [
            "Cutting Galewing"
        ],
        "rover_level": 2
    },
    "adversaries": [
        {
            "name": "Galeaper",
            "health": 5,
            "flies": true,
            "affinities": {
                "fire": -1,
                "earth": -1,
                "wind": 1
            },
            "abilities": [
                {
                    "name": "Gale Shot",
                    "actions": [
                        {
                            "type": "move",
                            "amount": 2,
                            "target_kind": "self"
                        },
                        {
                            "type": "attack",
                            "amount": 2,
                            "range": "(2, 2)"
                        }
                    ]
                },
                {
                    "name": "Power Strike",
                    "actions": [
                        {
                            "type": "attack",
                            "amount": 1,
                            "range": "(2, 4)",
                            "push": 2
                        }
                    ]
                },
                {
                    "name": "Rending Swoop",
                    "actions": [
                        {
                            "type": "move",
                            "amount": 3,
                            "target_kind": "self"
                        },
                        {
                            "type": "attack",
                            "amount": 2,
                            "range": "(1, 1)",
                            "pierce": true
                        },
                        {
                            "type": "move",
                            "amount": 2,
                            "requires_previous": true,
                            "retreat": true
                        }
                    ]
                },
                {
                    "name": "Swarn Instinct",
                    "actions": [
                        {
                            "type": "move",
                            "amount": 4,
                            "target_kind": "self"
                        },
                        {
                            "type": "attack",
                            "amount": 3,
                            "range": "(1, 1)",
                            "augments": [
                                {
                                    "condition": {
                                        "type": "ally_adjacent_to_target"
                                    },
                                    "action": {
                                        "type": "buff",
                                        "amount": 1,
                                        "buff_type": "amount",
                                        "static_description": {
                                            "body": "If at least one ally is adjacent to the target, gain +1 [DMG]."
                                        }
                                    }
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "name": "Dekaha",
            "health": 6,
            "immune_to_forced_movement": true,
            "affinities": {
                "fire": -2,
                "wind": -1,
                "earth": 1,
                "water": 1
            },
            "abilities": [
                {
                    "name": "Hydraulic Whip",
                    "actions": [
                        {
                            "type": "attack",
                            "amount": 2,
                            "range": "(1, 3)",
                            "push": 2
                        }
                    ]
                },
                {
                    "name": "Water Spout",
                    "actions": [
                        {
                            "type": "heal",
                            "amount": 2,
                            "target_kind": "self_or_ally",
                            "range": "(0, 4)"
                        }
                    ]
                },
                {
                    "name": "Sap Trap",
                    "actions": [
                        {
                            "type": "create_trap",
                            "amount": 2,
                            "range": "(1, 3)",
                            "static_description": {
                                "body": "Create one 2 [DMG] trap in an unoccupied space within 1-3, closest to the nearest enemy."
                            }
                        }
                    ]
                },
                {
                    "name": "Soothing Sprinkler",
                    "actions": [
                        {
                            "type": "heal",
                            "amount": 2,
                            "target_count": 2,
                            "target_kind": "self_or_ally",
                            "range": "(0, 5)"
                        }
                    ]
                }
            ]
        },
        {
            "name": "Galeaper Queen",
            "health_formula": "10*R",
            "defense_formula": "ceil(X/(X+1))*2",
            "X": "count_adversary(Galeaper)",
            "traits": [
                "Has [DEF] 2 as long as at least one galeaper is on the map."
            ],
            "large": true,
            "reduce_push_pull_by": 1,
            "affinities": {
                "fire": -1,
                "earth": -1,
                "wind": 1,
                "morph": 2
            },
            "abilities": [
                {
                    "name": "Tornado Cannon",
                    "actions": [
                        {
                            "type": "move",
                            "amount": 1,
                            "target_kind": "self"
                        },
                        {
                            "type": "attack",
                            "amount": 3,
                            "target_count": 99,
                            "range": "(2, 3)",
                            "aoe": {
                                "name": "x3Triangle"
                            }
                        }
                    ]
                },
                {
                    "name": "Massive Talons",
                    "actions": [
                        {
                            "type": "move",
                            "amount": 2,
                            "target_kind": "self"
                        },
                        {
                            "type": "attack",
                            "amount": 1,
                            "range": "(1, 1)",
                            "push": 3,
                            "pierce": true
                        }
                    ]
                },
                {
                    "name": "Frenzy Swarm",
                    "actions": [
                        {
                            "type": "command",
                            "object": "Galeaper",
                            "target_count": 2,
                            "target_kind": "ally",
                            "range": "(0, 99)",
                            "static_description": {
                                "body": "The nearest two Galeapers perform:"
                            },
                            "commands": [
                                {
                                    "type": "move",
                                    "amount": 2,
                                    "target_kind": "self"
                                },
                                {
                                    "type": "attack",
                                    "amount": 2,
                                    "range": "(2, 2)"
                                }
                            ]
                        }
                    ]
                },
                {
                    "name": "Queen's Call",
                    "actions": [
                        {
                            "type": "spawn",
                            "object": "Galeaper",
                            "amount_formula": "R-1",
                            "range": "(1, 1)"
                        }
                    ]
                }
            ]
        }
    ],
    "overlays": [
        {
            "name": "Nektari Hive",
            "health_formula": "2*R"
        }
    ],
    "placements": {
        "(1, 5)": {
            "name": "Nektari Hive",
            "type": "object",
            "alias": "Galeaper Hive Entrance",
            "on_did_start_round": [
                {
                    "type": "spawn_placements",
                    "name": "The Hive Stirs",
                    "value": "Left Hive",
                    "conditions": [
                        "round=2",
                        "is_closest_of_class_to_rovers"
                    ]
                },
                {
                    "type": "spawn_placements",
                    "name": "The Hive Stirs",
                    "value": "Left Hive",
                    "conditions": [
                        "round=4",
                        "is_closest_of_class_to_rovers"
                    ]
                },
                {
                    "type": "spawn_placements",
                    "name": "The Hive Stirs",
                    "value": "Left Hive",
                    "conditions": [
                        "round=6",
                        "is_closest_of_class_to_rovers"
                    ]
                },
                {
                    "type": "spawn_placements",
                    "name": "The Hive Stirs",
                    "value": "Left Hive",
                    "conditions": [
                        "round=8",
                        "is_closest_of_class_to_rovers"
                    ]
                }
            ]
        },
        "(2, 5)": {
            "name": "Wind",
            "type": "ether"
        },
        "(3, 2)": {
            "name": "Dekaha",
            "min_players": 4
        },
        "(3, 7)": {
            "name": "Dekaha"
        },
        "(4, 4)": {
            "name": "Galeaper",
            "min_players": 3
        },
        "(4, 5)": {
            "name": "Bursting Bell",
            "type": "trap",
            "trap_damage": 2
        },
        "(5, 6)": {
            "name": "Galeaper"
        },
        "(6, 4)": {
            "name": "Galeaper Queen",
            "on_slayed": [
                {
                    "type": "codex",
                    "name": "Borne in Heedless Hum",
                    "value": "X"
                },
                {
                    "type": "victory",
                    "name": "Borne in Heedless Hum"
                }
            ]
        },
        "(7, 1)": {
            "name": "Dekaha"
        },
        "(7, 6)": {
            "name": "Galeaper"
        },
        "(8, 4)": {
            "name": "Galeaper"
        },
        "(9, 5)": {
            "name": "Nektari Hive",
            "type": "object",
            "alias": "Galeaper Hive Entrance",
            "on_did_start_round": [
                {
                    "type": "spawn_placements",
                    "name": "The Hive Stirs",
                    "value": "Right Hive",
                    "conditions": [
                        "round=2",
                        "is_closest_of_class_to_rovers"
                    ]
                },
                {
                    "type": "spawn_placements",
                    "name": "The Hive Stirs",
                    "value": "Right Hive",
                    "conditions": [
                        "round=4",
                        "is_closest_of_class_to_rovers"
                    ]
                },
                {
                    "type": "spawn_placements",
                    "name": "The Hive Stirs",
                    "value": "Right Hive",
                    "conditions": [
                        "round=6",
                        "is_closest_of_class_to_rovers"
                    ]
                },
                {
                    "type": "spawn_placements",
                    "name": "The Hive Stirs",
                    "value": "Right Hive",
                    "conditions": [
                        "round=8",
                        "is_closest_of_class_to_rovers"
                    ]
                }
            ]
        },
        "(9, 7)": {
            "name": "Bursting Bell",
            "type": "trap",
            "trap_damage": 2
        },
        "(10, 3)": {
            "name": "Wind",
            "type": "ether"
        },
        "(10, 7)": {
            "name": "Dekaha",
            "min_players": 3
        }
    },
    "triggers": [
        {
            "name": "Left Hive",
            "placements": [
                {
                    "name": "Galeaper",
                    "column": 1,
                    "row": 5
                },
                {
                    "name": "Galeaper",
                    "column": 1,
                    "row": 5,
                    "min_players": 3
                },
                {
                    "name": "Galeaper",
                    "column": 1,
                    "row": 5,
                    "min_players": 4
                }
            ]
        },
        {
            "name": "Right Hive",
            "placements": [
                {
                    "name": "Galeaper",
                    "column": 9,
                    "row": 5
                },
                {
                    "name": "Galeaper",
                    "column": 9,
                    "row": 5,
                    "min_players": 3
                },
                {
                    "name": "Galeaper",
                    "column": 9,
                    "row": 5,
                    "min_players": 4
                }
            ]
        }
    ]
}